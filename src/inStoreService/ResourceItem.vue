<template>
  <view class="resource-item">
    <!-- æ ‡é¢˜å’ŒæŸ¥çœ‹æ›´å¤šæŒ‰é’® -->
    <view class="resource-item__header">
      <view class="resource-item__title">
        {{ title }}
      </view>
      <view>
        <u-text
          v-if="list.length > 3"
          suffix-icon="play-right-fill"
          icon-style="font-size: 20rpx; color: #b2b3b5;"
          color="#b2b3b5"
          text="æŸ¥çœ‹æ›´å¤š"
          @click="handleViewMore"
        />
      </view>
    </view>
    <!-- å¡ç‰‡ -->
    <u-row gutter="20rpx">
      <u-col
        v-for="(item, index) in filterList"
        :key="index"
        :span="12 / filterList.length"
        @click="handleClickProduct(item)"
      >
        <ProductCard :product="item" />
      </u-col>
    </u-row>
  </view>
</template>

<script>
import ProductCard from './ProductCard.vue'

export default {
  name: 'ResourceItem',
  components: {
    ProductCard,
  },
  props: {
    id: {
      type: [String, Number],
      required: true,
    },
    title: {
      type: String,
      required: true,
    },
    list: {
      type: Array,
      required: true,
    },
  },
  computed: {
    filterList () {
      return this.list.slice(0, 3)
    },
  },
  methods: {
    handleViewMore () {
      console.log('handleClickMore')
      // uni.navigateTo({
      //   url: `/pages/resource/list?id=${this.id}`,
      // })
    },
    handleClickProduct (item) {
      console.log('ğŸš€ ~ handleClickProduct ~ item:', item)
    },
  },
}
</script>

<style scoped>
.resource-item {
  padding: 40rpx;
  background-color: #ffffff;
  border-radius: 20rpx;
  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
  transition: box-shadow 0.3s ease;
}

/* æ ‡é¢˜åŒºåŸŸæ ·å¼ */
.resource-item__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30rpx;
}

.resource-item__title {
  font-size: 36rpx;
  font-weight: 600;
  color: #333333;
}

/* æŸ¥çœ‹æ›´å¤šæŒ‰é’®æ ·å¼ */
.u-text {
  font-size: 28rpx;
  color: #666666;
  cursor: pointer;
  transition: color 0.3s ease;
}

.u-text:hover {
  color: #007bff;
}

/* å¡ç‰‡å¸ƒå±€æ ·å¼ */
.u-row {
  margin: 0 -10rpx;
}

.u-col {
  padding: 0 10rpx;
  margin-bottom: 20rpx;
}
</style>
